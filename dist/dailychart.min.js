!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Dailychart=e()}(this,function(){"use strict";var t=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var h="http://www.w3.org/2000/svg",e=function(){function i(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.options=i.extend({},this.defaultOptions,e),this.element=t,this.width=this.options.width||t.offsetWidth,this.height=this.options.height||t.offsetHeight,this.values=t.getAttribute("data-dailychart-values").split(",").map(Number),this.length=+t.getAttribute("data-dailychart-length"),this.previous=+t.getAttribute("data-dailychart-close"),this._normalize(),this._translate(),this._draw()}return t(i,[{key:"_normalize",value:function(){var e=this,t=Math.max.apply(null,this.values.concat([this.previous])),i=Math.min.apply(null,this.values.concat([this.previous])),n=(this.height-2*this.options.lineWidth)/(t-i);this.values=this.values.map(function(t){return(t-i)*n+e.options.lineWidth}),this.previous=(this.previous-i)*n+this.options.lineWidth}},{key:"_translate",value:function(){var e=this;this.values=this.values.map(function(t){return e.height-t}),this.previous=this.height-this.previous}},{key:"_id",value:function(){return Math.random().toString(36).substr(2,9)}},{key:"_path",value:function(){for(var t=this.width/this.length,e=0,i=[];e<this.values.length;e++)i.push(0===e?"M":"L"),i.push(e*t),i.push(this.values[e]);return i.join(" ")}},{key:"_close",value:function(t,e){return"positive"===e&&(t+=" V "+this.height+" H 0 Z"),"negative"===e&&(t+=" V 0 H 0 Z"),t}},{key:"_draw",value:function(){var t=this.options,e=t.lineWidth,i=t.colorPositive,n=t.colorNegative,s=t.fillPositive,r=t.fillNegative,h=this._id(),l="dailychart-"+h+"-positive",a="dailychart-"+h+"-negative",o=this._path(),u=this._close(o,"positive"),p=this._close(o,"negative"),v=this._svgElement(),d=this._lineElement(this.previous),c=this._pathElement(o,e,i,"",l),f=this._pathElement(u,0,"",s,l),m=this._clipElement(l),g=this._rectElement(0,0,this.width,this.previous),b=this._pathElement(o,e,n,"",a),y=this._pathElement(p,0,"",r,a),_=this._clipElement(a),A=this._rectElement(0,this.previous,this.width,this.height-this.previous);m.appendChild(g),_.appendChild(A),v.appendChild(m),v.appendChild(_),v.appendChild(d),v.appendChild(f),v.appendChild(y),v.appendChild(c),v.appendChild(b),this.element.appendChild(v)}},{key:"_svgElement",value:function(){var t=document.createElementNS(h,"svg");return t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",h),t.setAttribute("width",this.width),t.setAttribute("height",this.height),t}},{key:"_lineElement",value:function(t){var e=document.createElementNS(h,"line");return e.setAttribute("x1",0),e.setAttribute("y1",t),e.setAttribute("x2",this.width),e.setAttribute("y2",t),e.setAttribute("stroke",this.options.closeColor),e.setAttribute("stroke-width",this.options.closeWidth),e.style.shapeRendering="crispEdges",e}},{key:"_pathElement",value:function(t,e,i,n,s){var r=document.createElementNS(h,"path");return r.setAttribute("d",t),r.setAttribute("fill",""===n?"none":n),r.setAttribute("stroke-width",e),r.setAttribute("stroke-linejoin","bevel"),r.setAttribute("stroke",""===i?"none":i),r.setAttribute("clip-path","url(#"+s+")"),r}},{key:"_rectElement",value:function(t,e,i,n){var s=document.createElementNS(h,"rect");return s.setAttribute("x",t),s.setAttribute("y",e),s.setAttribute("width",i),s.setAttribute("height",n),s}},{key:"_clipElement",value:function(t){var e=document.createElementNS(h,"clipPath");return e.setAttribute("id",t),e}}],[{key:"extend",value:function(t){for(var e=arguments.length,i=Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var s=i,r=Array.isArray(s),h=0;for(s=r?s:s[Symbol.iterator]();;){var l;if(r){if(h>=s.length)break;l=s[h++]}else{if((h=s.next()).done)break;l=h.value}var a=l;for(var o in a){var u=a[o];t[o]=u}}return t}}]),i}();return e.prototype.defaultOptions={width:void 0,height:void 0,lineWidth:1,colorPositive:"#33AE45",colorNegative:"#EB5757",fillPositive:"",fillNegative:"",closeWidth:1,closeColor:"#e0e0e0"},e.version="1.2.0",e});